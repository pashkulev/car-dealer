<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Car Dealer</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
</head>
<body>

    <header class="fixed-top" th:insert="~{fragments/navbar}"></header>

    <main>
        <div class="container" style="margin-top: 15%">
            <form th:method="POST" th:object="${sale}">
                <div class="row">
                    <div class="offset-1 offset-sm-5 col-6">
                        <h2>Add Sale</h2>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="offset-1 offset-md-2 col-10 col-sm-3 col-md-2">
                        <label class="form-control-label" for="customer">Customer:</label>
                    </div>

                    <div class="offset-1 col-10 col-sm-5">
                        <select class="form-control" id="customer"
                                th:field="*{customerId}" th:errorclass="fieldError">
                            <option value="0" selected="selected">--- Select Customer ---</option>
                            <option th:each="customer : ${customers}"
                                    th:value="${customer.id}"
                                    th:text="${customer.name}">
                            </option>
                        </select>
                        <small class="text-danger"
                               th:if="${#fields.hasErrors('customerId')}"
                               th:errors="*{customerId}">
                            Incorrect customer
                        </small>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="offset-1 offset-md-2 col-10 col-sm-3 col-md-2">
                        <label class="form-control-label" for="car">Car:</label>
                    </div>

                    <div class="offset-1 col-10 col-sm-5">
                        <select class="form-control" id="car" th:field="*{carId}" th:errorclass="fieldError">
                            <option value="0">--- Select Car ---</option>
                            <option th:each="car : ${cars}"
                                    th:value="${car.id}"
                                    th:text="|${car.make} ${car.model} &ndash; ${car.price} &euro;|">
                            </option>
                        </select>
                        <small class="text-danger"
                               th:if="${#fields.hasErrors('carId')}"
                               th:errors="*{carId}">
                            Incorrect Car
                        </small>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="offset-1 offset-md-2 col-10 col-sm-3 col-md-2">
                        <label class="form-control-label" for="discount">Discount:</label>
                    </div>

                    <div class="offset-1 col-10 col-sm-5">
                        <input type="number" class="form-control" id="discount" th:field="*{discount}" />
                        <small class="form-text text-muted">Enter discount value in percents</small>
                        <small class="text-danger"
                               th:if="${#fields.hasErrors('discount')}"
                               th:errors="*{discount}">
                            Incorrect Discount
                        </small>
                    </div>

                </div>

                <div class="form-group row">
                    <div class="offset-1 offset-sm-5 col-6">
                        <input class="btn btn-outline-primary" type="submit" value="Submit" />
                        <a id="cancel-btn" class="btn btn-outline-secondary" href="#">Cancel</a>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <footer th:insert="~{fragments/footer}">

    </footer>

    <script src="/js/jquery-3.3.1.min.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/navigation-controller.js"></script>
    <script src="/js/form-cancel.js"></script>
    <script src="/js/footer-adjust.js"></script>
</body>
</html>